{% extends "base.html" %}

{% block content %}
    <div class="container">
        <h3 class="text-muted text-center mt-3">Login</h3>
        <form method="POST" class="mt-4" id="sign-in" action="/login">
            {% csrf_token %}

            <div class="form-group mt-3">
                <label>Username</label>
                <input type="text" name="username" class="form-control">
            </div>

            <div class="form-group mt-3">
                <label>Password</label>
                <input type="password" name="password" class="form-control">
            </div>

            <div class="form-group mt-2">
                <input type="submit" value="Login" class="btn btn-primary">
            </div>
        </form>
        <div class="mt-3">
            <a href="/register" class="btn btn-secondary">Sign up</a>
        </div>
        <div class="mt-3">
            <a href="/passwords/new" class="btn btn-info">Forgot password?</a>
        </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function () {

            $("#sign-in").validate({
                rules: {
                    "username": {
                        required: true
                    },
                    "password": {
                        required: true
                    }
                },
                errorClass: 'error',
                validClass: 'success',
                errorElement: 'div',
                errorPlacement: function (error, element) {
                    if (element.hasClass("password-type")) {
                        error.insertAfter(element.next());
                    } else {
                        error.insertAfter(element);
                    }
                }
            });

        })
    </script>
{% endblock content %}